import{a as y}from"/build/_shared/chunk-4OSI5MRC.js";import{c as _}from"/build/_shared/chunk-Q3IECNXJ.js";var n=_(y());var t="/build/_assets/RHCP-Mindmap-BZ2OFTP7.png";var p="/build/_assets/RHCP-Past-Tour-IO6MTG66.png";var m="/build/_assets/RHCP-Past-Tour-Pagination-WYREYSNW.png";var c="/build/_assets/RHCP-Past-Tour-Pagination-Inspector-Y64PHNYN.png";var r="/build/_assets/Middleware-CAW25KLQ.png";var o={title:"Node: Red Hot Chilli Peppers Tour Scrapper With Cheerio and Simple Crawler",summary:"Learn how to scrape concert information from the Red Hot Chili Peppers' tour website using Node.js, Cheerio, and Simple Crawler, and transform the data through a series of middleware plugins.",date:"2019-03-24",tags:["javascript","cheerio.js","simple-crawler"],image:"/images/js.png"};function B(l={}){let s=Object.assign({p:"p",a:"a",h3:"h3",ul:"ul",li:"li",h4:"h4",strong:"strong",div:"div",pre:"pre",code:"code",span:"span",h5:"h5",em:"em",ol:"ol"},l.components),{wrapper:e}=s,a=n.default.createElement(n.default.Fragment,null,n.default.createElement(s.p,null,"For a data visualization project I'm working on, I wanted to get concert information on the Red Hot Chilli Peppers (RHCP). More specifically, I wanted to scrape their ",n.default.createElement(s.a,{href:"https://redhotchilipeppers.com/tour/past"},"tour website")," so this post will show you how to do that."),`
`,n.default.createElement(s.h3,null,"Goals"),`
`,n.default.createElement(s.ul,null,`
`,n.default.createElement(s.li,null,"Use Node.js, Cheerio and Simple Crawler to fetch the RHCP data and parse it.",`
`,n.default.createElement(s.ul,null,`
`,n.default.createElement(s.li,null,"Build a plugin system to transform the data through middleware that involves using external API's"),`
`,n.default.createElement(s.li,null,"Apply Dependency Injection to the plugins to keep them flexible"),`
`),`
`),`
`),`
`,n.default.createElement(s.h4,null,"Flow"),`
`,`
`,n.default.createElement(n.default.Fragment,null,n.default.createElement("p",null,n.default.createElement("img",{src:t,alt:"Alt text",title:"RHCP-Mindmap"}))),`
`,n.default.createElement(s.h4,null,"Prerequisites"),`
`,n.default.createElement(s.p,null,"I'll be using node ",n.default.createElement(s.strong,null,"10.9.0")," for this guide but you should be able to use it with any recent version."),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"sh","data-theme":"default"},n.default.createElement(s.code,{"data-language":"sh","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"npm "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"i"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#CB4B16"}},"-g"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"yarn")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#586E75",fontStyle:"italic"}},"#main packages")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"yarn "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"add"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"request"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"request-promise"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"simplecrawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"cheerio")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"yarn "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"add"),n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"dotenv"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"lodash.merge"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"lodash.range"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"geojson"))))),`
`,n.default.createElement(s.h4,null,"Walkthrough"),`
`,n.default.createElement(s.p,null,"The first component that we will tackle is the ",n.default.createElement(s.strong,null,"PageScrapper"),"."),`
`,n.default.createElement(s.p,null,"Before we start writing any code, let's get an idea of the HTML structure we're parsing. Openning up https://redhotchilipeppers.com/tour/past we see this page:"),`
`,`
`,n.default.createElement(n.default.Fragment,null,n.default.createElement("p",null,n.default.createElement("img",{src:p,alt:"Alt text",title:"RHCP Past Tour"}))),`
`,n.default.createElement(s.p,null,"On opening the Chrome inspector tools and focusing on one entry, we can figure out how we want to parse this page:"),`
`,`
`,n.default.createElement(n.default.Fragment,null,n.default.createElement("p",null,n.default.createElement("img",{src:p,alt:"Alt text",title:"RHCP Tour Past Inspector"}))),`
`,n.default.createElement(s.p,null,"We want to narrow our focus on the ",n.default.createElement(s.strong,null,"event-list")," class that has the list of concerts. Drilling down even further, we observe the ",n.default.createElement(s.strong,null,"event-list-item")," class where we will pick up the important pieces of information:"),`
`,n.default.createElement(s.ul,null,`
`,n.default.createElement(s.li,null,"date (",n.default.createElement(s.strong,null,"event-list-item-date"),")",`
`,n.default.createElement(s.ul,null,`
`,n.default.createElement(s.li,null,"month (",n.default.createElement(s.strong,null,"event-list-item-date-month"),")"),`
`,n.default.createElement(s.li,null,"day  (",n.default.createElement(s.strong,null,"event-list-item-date-day"),")"),`
`,n.default.createElement(s.li,null,"year  (",n.default.createElement(s.strong,null,"event-list-item-date-year"),")"),`
`),`
`),`
`,n.default.createElement(s.li,null,"location  (",n.default.createElement(s.strong,null,"event-list-item-location"),")"),`
`,n.default.createElement(s.li,null,"venue  (",n.default.createElement(s.strong,null,"event-list-item-venue"),")"),`
`),`
`,n.default.createElement(s.p,null,"Great, let's first pull this webpage into our code:"),`
`,n.default.createElement(s.p,null,n.default.createElement(s.strong,null,"index.js")),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"rp"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'request-promise'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'cheerio'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"url"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'https://redhotchilipeppers.com/tour/past'"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"rp"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"url"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"(html){")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#586E75",fontStyle:"italic"}},"//success!")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.event-list-item'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"html"),n.default.createElement(s.span,{style:{color:"#839496"}},").length);")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  })")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"catch"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"(err){")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#586E75",fontStyle:"italic"}},"//handle error")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  });"))))),`
`,n.default.createElement(s.p,null,"Running"),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"sh","data-theme":"default"},n.default.createElement(s.code,{"data-language":"sh","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"node "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"index.js"))))),`
`,n.default.createElement(s.p,null,"should present a number of ",n.default.createElement(s.strong,null,"50")," in the console, or whatever the number of entries you see on that page."),`
`,n.default.createElement(s.p,null,"Great, you've successfully pulled the first page from the tour website. Let's move on to actually getting all the info we want (listed above) in a clean format."),`
`,n.default.createElement(s.p,null,n.default.createElement(s.strong,null,"src/PageScrapper.js")),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"PageScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ parser "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}}," }) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"parser"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"throw"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Error"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'A parser needs to be defined'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"parser"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"PageScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}},".prototype."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrape"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"(html) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"numItems"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.event-list-item'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"html"),n.default.createElement(s.span,{style:{color:"#839496"}},").length;")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventMonths"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.event-list-item-date-month'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"html"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventDays"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.event-list-item-date-day'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"html"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventYears"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.event-list-item-date-year'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"html"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventLocations"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.event-list-item-location a'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"html"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventVenues"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.event-list-item-venue a'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"html"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"events"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," [];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"for"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"let"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"i"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#D33682"}},"0"),n.default.createElement(s.span,{style:{color:"#839496"}},"; "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"i"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"<"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"numItems"),n.default.createElement(s.span,{style:{color:"#839496"}},"; "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"i"),n.default.createElement(s.span,{style:{color:"#859900"}},"++"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"let"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"event"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"date"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {};")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"date"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"month"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventMonths"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"eq"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"i"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"text"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"date"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"day"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventDays"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"eq"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"i"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"text"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"date"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"year"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventYears"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"eq"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"i"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"text"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventLocations"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"eq"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"i"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"text"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"let"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"loc"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {};")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"==="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'?'"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"||"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"''"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"loc"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    } "),n.default.createElement(s.span,{style:{color:"#859900"}},"else"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"loc"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"name"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"event"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"venue"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$eventVenues"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"eq"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"i"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"text"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"event"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"..."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"event"),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      location: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"loc"),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"date")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"events"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"push"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"event"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"events"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"module"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#859900"}},"exports"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"PageScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}},";"))))),`
`,n.default.createElement(s.p,null,"Our ",n.default.createElement(s.strong,null,"PageScrapper")," factory takes in a parser as an argument. In our case, we will use cheerio but to keep it flexible, we can use another drop in replacement should we need to in the future."),`
`,n.default.createElement(s.p,null,"You'll notice that there's a conditional ",n.default.createElement(s.strong,null,"?")," when testing for the location. If you look at some of the last pages, the location is unknown and shown with a question mark. I've decided to make the ",n.default.createElement(s.strong,null,"location")," key ",n.default.createElement(s.strong,null,"null")," in these cases."),`
`,n.default.createElement(s.p,null,"The heavy lifting is done by the ",n.default.createElement(s.strong,null,"scrape")," function which takes in the web page (an html string) as an argument and then returns the list of concerts (events) in the following format:"),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"json","data-theme":"default"},n.default.createElement(s.code,{"data-language":"json","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"{")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},'"venue"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Band Together Bay Area"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},'"location"'),n.default.createElement(s.span,{style:{color:"#839496"}},": { "),n.default.createElement(s.span,{style:{color:"#859900"}},'"name"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"San Francisco, CA"'),n.default.createElement(s.span,{style:{color:"#839496"}},"},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},'"date"'),n.default.createElement(s.span,{style:{color:"#839496"}},": { "),n.default.createElement(s.span,{style:{color:"#859900"}},'"month"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Dec"'),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#859900"}},'"day"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"14"'),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#859900"}},'"year"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"2017"'),n.default.createElement(s.span,{style:{color:"#839496"}}," }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}"))))),`
`,n.default.createElement(s.p,null,"Great, let's setup this parser and call it on our webpage."),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"rp"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'request-promise'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'cheerio'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"url"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'https://redhotchilipeppers.com/tour/past'"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"PageScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/PageScrapper'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"PageScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ parser: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"rp"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"url"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"(html) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.event-list-item'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"html"),n.default.createElement(s.span,{style:{color:"#839496"}},").length);")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrapedResult"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrape"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"html"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"JSON"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"stringify"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrapedResult"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#D33682"}},"4"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  })")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"catch"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"(err) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#586E75",fontStyle:"italic"}},"//handle error")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  });")),`
`,n.default.createElement(s.span,{className:"line"}," ")))),`
`,n.default.createElement(s.p,null,"Which will output the ",n.default.createElement(s.strong,null,"50")," entries in the format we've defined above."),`
`,n.default.createElement(s.h5,null,"Crawler"),`
`,n.default.createElement(s.p,null,"We now know that our parser works correctly given the HTML. Let's now move on to building a web crawler that goes through all the concert pages and gives it to the parser. We'll then join all the individual lists to make our final list of concerts."),`
`,n.default.createElement(s.p,null,"How do we do that? Let's look at our main page at https://redhotchilipeppers.com/tour/past. Scroll to the bottom and you see this pagination:"),`
`,`
`,n.default.createElement(n.default.Fragment,null,n.default.createElement("p",null,n.default.createElement("img",{src:m,alt:"Alt text",title:"RHCP-Past-Tour-Pagination"}))),`
`,n.default.createElement(s.p,null,"Inspecting this element we see this:"),`
`,`
`,n.default.createElement(n.default.Fragment,null,n.default.createElement("p",null,n.default.createElement("img",{src:c,alt:"Alt text",title:"RHCP-Past-Tour-Pagination-Inspector"}))),`
`,n.default.createElement(s.p,null,"We'll need to get the list of ",n.default.createElement(s.strong,null,"href")," elements under the class ",n.default.createElement(s.strong,null,"pagination-numbers"),", filter by non ",n.default.createElement(s.strong,null,"active")," classes and then pick the ",n.default.createElement(s.em,null,"first")," and ",n.default.createElement(s.em,null,"last")," items. We'll then create a range from the ",n.default.createElement(s.em,null,"first")," to the ",n.default.createElement(s.em,null,"last")," items and create a url for each page that will be added to the sources to discover."),`
`,n.default.createElement(s.ul,null,`
`,n.default.createElement(s.li,null,"https://redhotchilipeppers.com/tour/past/page/2"),`
`,n.default.createElement(s.li,null,"https://redhotchilipeppers.com/tour/past/page/3"),`
`,n.default.createElement(s.li,null,"\u2026..."),`
`,n.default.createElement(s.li,null,"https://redhotchilipeppers.com/tour/past/page/33 (your last index may differ)"),`
`),`
`,n.default.createElement(s.p,null,n.default.createElement(s.strong,null,"src/Crawler.js")),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cheerio"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'cheerio'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"SimpleCrawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'simplecrawler'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"range"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lodash.range'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'bluebird'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"PageScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./PageScrapper'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"PageScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ parser: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cheerio"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ baseUrl "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},", startUrl "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," }) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"||"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"throw"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Error"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'baseUrl and startUrl paramerters need to be defined'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"SimpleCrawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},".prototype."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"start"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"() {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"((resolve, reject) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"maxDepth"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#D33682"}},"1"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"interval"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#D33682"}},"10000"),n.default.createElement(s.span,{style:{color:"#839496"}},"; "),n.default.createElement(s.span,{style:{color:"#586E75",fontStyle:"italic"}},"// Ten seconds")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"maxConcurrency"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#D33682"}},"3"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"results"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," [];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"on"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'fetchcomplete'"),n.default.createElement(s.span,{style:{color:"#839496"}},", (queueItem, responseBuffer) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'fetch complete for '"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"queueItem"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"url"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrapedResult"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrape"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"responseBuffer"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"toString"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'utf8'"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"results"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"push"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrapedResult"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    });")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"on"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'complete'"),n.default.createElement(s.span,{style:{color:"#839496"}},", (queueItem, resources) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"var"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merged"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," []."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"concat"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"apply"),n.default.createElement(s.span,{style:{color:"#839496"}},"([], "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"results"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'Results Size'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merged"),n.default.createElement(s.span,{style:{color:"#839496"}},".length);")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"resolve"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merged"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    });")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"discoverResources"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," buffer "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cheerio"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"load"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"buffer"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"toString"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'utf8'"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"hrefs"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.pagination-numbers a[href]'"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"filter"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"() {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"hasClass"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'active'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      });")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"numMatch"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#DC322F"}}," /("),n.default.createElement(s.span,{style:{color:"#CB4B16"}},"\\d"),n.default.createElement(s.span,{style:{color:"#859900"}},"+"),n.default.createElement(s.span,{style:{color:"#DC322F"}},")/"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"firstHref"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"hrefs"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"first"),n.default.createElement(s.span,{style:{color:"#839496"}},"()."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"text"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lastHref"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"hrefs"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"last"),n.default.createElement(s.span,{style:{color:"#839496"}},"()."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"text"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"try"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startPagination"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"parseInt"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"numMatch"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"exec"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"firstHref"),n.default.createElement(s.span,{style:{color:"#839496"}},")["),n.default.createElement(s.span,{style:{color:"#D33682"}},"0"),n.default.createElement(s.span,{style:{color:"#839496"}},"]);")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lastPagination"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"parseInt"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"numMatch"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"exec"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lastHref"),n.default.createElement(s.span,{style:{color:"#839496"}},")["),n.default.createElement(s.span,{style:{color:"#D33682"}},"0"),n.default.createElement(s.span,{style:{color:"#839496"}},"]);")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"urls"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"range"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startPagination"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lastPagination"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"+"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#D33682"}},"1"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"map"),n.default.createElement(s.span,{style:{color:"#839496"}},"(")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"          num "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}/tour/past/page/${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"num"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}`")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        );")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"urls"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      } "),n.default.createElement(s.span,{style:{color:"#859900"}},"catch"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"e"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"e"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," [];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"start"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"module"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#859900"}},"exports"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"}," ")))),`
`,n.default.createElement(s.p,null,"Our crawler starts with an intial page to discover which in our case is https://redhotchilipeppers.com/tour/past"),`
`,n.default.createElement(s.p,null,"The ",n.default.createElement(s.strong,null,"crawler.discoverResources")," function takes this page and extracts the pagination links and adds them to the queue of pages for the crawler to move to."),`
`,n.default.createElement(s.p,null,"Each page, including the start page is passed to the ",n.default.createElement(s.strong,null,"fetchcomplete")," event for further processing. Here we pass the HTML to our ",n.default.createElement(s.strong,null,"PageScrapper")," to extract our data and append it to the ",n.default.createElement(s.em,null,"results")," array."),`
`,n.default.createElement(s.p,null,"After all the pages have been visited in the queue, the ",n.default.createElement(s.strong,null,"complete")," event is called where we just concatenate all the individual result array and flatten it."),`
`,n.default.createElement(s.p,null,"We set ",n.default.createElement(s.strong,null,"maxDepth = 1")," for now to test our code. This will ensure that only the initial page is pulled."),`
`,n.default.createElement(s.p,null,"Once we're happy with our program, we'll set ",n.default.createElement(s.strong,null,"maxDepth = 2")," to ensure that other than the initial page, the crawler doesn't add the pagination links for the new pages discovered from the initial link. The number of pages will most likely been the same during the crawl."),`
`,n.default.createElement(s.p,null,"Let's try running the crawler:"),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-language":"js","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/Crawler'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'https://redhotchilipeppers.com'"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}/tour/past`"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"start"),n.default.createElement(s.span,{style:{color:"#839496"}},"()."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"JSON"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"stringify"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," ")))),`
`,n.default.createElement(s.p,null,"You've now successfully pulled all the info from all the past concerts!"),`
`,n.default.createElement(s.h5,null,"Plugins"),`
`,n.default.createElement(s.p,null,"Our data looks like this:"),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"json","data-theme":"default"},n.default.createElement(s.code,{"data-language":"json","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"{  ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   "),n.default.createElement(s.span,{style:{color:"#859900"}},'"venue"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"The Great Pyramids of Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   "),n.default.createElement(s.span,{style:{color:"#859900"}},'"location"'),n.default.createElement(s.span,{style:{color:"#839496"}},":{  ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},'"name"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza, Egypt"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   },")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   "),n.default.createElement(s.span,{style:{color:"#859900"}},'"date"'),n.default.createElement(s.span,{style:{color:"#839496"}},":{  ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},'"month"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Mar"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},'"day"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"15"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},'"year"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"2019"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}"))))),`
`,n.default.createElement(s.p,null,"We want to transform it into this:"),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"json","data-theme":"default"},n.default.createElement(s.code,{"data-language":"json","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"{")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"venue"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"The Great Pyramids of Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"location"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"name"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza, Egypt"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"lat"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"30.0170059"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"lon"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"31.2134513"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"address"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"city"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"state"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza Governorate"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"postcode"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"12541"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"country"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Egypt"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"country_code"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"eg"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"timezoneId"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Africa/Cairo"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"date"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"month"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Mar"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"day"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"15"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"year"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"2019"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"geojson"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"type"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Feature"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"geometry"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"type"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Point"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"coordinates"'),n.default.createElement(s.span,{style:{color:"#839496"}},": ["),n.default.createElement(s.span,{style:{color:"#D33682"}},"31.2134513"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#D33682"}},"30.0170059"),n.default.createElement(s.span,{style:{color:"#839496"}},"]")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"properties"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"venue"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"The Great Pyramids of Giza"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		}")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	}")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}"))))),`
`,n.default.createElement(s.p,null,"We'll do it through a series of plugins using middleware that transforms the data before returning it from the crawler."),`
`,`
`,n.default.createElement(n.default.Fragment,null,n.default.createElement("p",null,n.default.createElement("img",{src:r,alt:"Alt text",title:"Middleware"}))),`
`,`
`,n.default.createElement(s.p,null,"The plugins will be named:"),`
`,n.default.createElement(s.ol,null,`
`,n.default.createElement(s.li,null,n.default.createElement(s.strong,null,"LocationIQ")," - This will take the name of the location and give us the latitude, longitude and deconstructed address of the place including the country, state and city. ",n.default.createElement(s.strong,null,"lat, lon and address")," fields in the ",n.default.createElement(s.strong,null,"location")," key above."),`
`,n.default.createElement(s.li,null,n.default.createElement(s.strong,null,"GeoNames")," - This will take the latitude and longitude and give us the timezone of the place. ",n.default.createElement(s.strong,null,"timezoneId")," in the ",n.default.createElement(s.strong,null,"location")," field."),`
`,n.default.createElement(s.li,null,n.default.createElement(s.strong,null,"GeoJSON")," - this is take the longitude and latitude of a place and give us the GeoJSON point. The ",n.default.createElement(s.strong,null,"geojson")," field."),`
`),`
`,n.default.createElement(s.p,null,"They'll run in sequential order. We'll look at the ",n.default.createElement(s.strong,null,"LocationIQ")," plugin first."),`
`,n.default.createElement(s.p,null,n.default.createElement(s.strong,null,"src/plugins/LocationIQ.js")),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'dotenv'"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"config"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'bluebird'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"rp"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'request-promise'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'https://eu1.locationiq.com/v1/search.php'"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"locationIQOptions"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," ({ location }) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}?key=${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"process"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"env"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LOC_IQ_API_KEY"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}&q=${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"encodeURI"),n.default.createElement(s.span,{style:{color:"#839496"}},"(")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  )"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}&format=json&limit=1&addressdetails=1`"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}},"({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#586E75",fontStyle:"italic"}},"/* highlight-start */")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fn "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fieldsFn "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (data, dataToAdd) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," ({ "),n.default.createElement(s.span,{style:{color:"#859900"}},"..."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}}," }),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#586E75",fontStyle:"italic"}},"/* highlight-end */")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cache"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {};")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"((resolve, reject) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fn"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"call"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"resolve"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cache"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"]) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'cache hit for '"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"resolve"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeFn"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", dataToAdd: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cache"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"] }));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      }")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"delay"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#D33682"}},"501"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(() "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"          "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"rp"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ uri: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"locationIQOptions"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}}," }), json: "),n.default.createElement(s.span,{style:{color:"#B58900"}},"true"),n.default.createElement(s.span,{style:{color:"#839496"}}," })."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"            response "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"              "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"locationData"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fieldsFn"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"response"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#D33682"}},"0"),n.default.createElement(s.span,{style:{color:"#839496"}},"]);")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"              "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cache"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"] "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"locationData"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"              "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"resolve"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeFn"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", dataToAdd: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"locationData"),n.default.createElement(s.span,{style:{color:"#839496"}}," }));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"            }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"          )")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        )")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"catch"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"reject"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"module"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#859900"}},"exports"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}},";"))))),`
`,n.default.createElement(s.p,null,"We'll be using a service called ",n.default.createElement(s.strong,null,n.default.createElement(s.a,{href:"https://locationiq.com"},"Location IQ"))," that has a good free tier. We just need to make sure to reduce the frequency of our calls to the API which we do in line ",n.default.createElement(s.strong,null,"26"),"."),`
`,n.default.createElement(s.p,null,"Go ahead and register for an account and copy your API key into the ",n.default.createElement(s.strong,null,".env")," file. This is used by ",n.default.createElement(s.strong,null,"dotenv")," to pull the key into our plugin thereby securing it. You don't want to commit ",n.default.createElement(s.strong,null,".env")," to your source control."),`
`,n.default.createElement(s.p,null,n.default.createElement(s.strong,null,".env")),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"sh","data-theme":"default"},n.default.createElement(s.code,{"data-language":"sh","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"LOC_IQ_API_KEY"),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#268BD2"}},"**"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"YOUR_LOCATION_IQ_API_KEY"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"**"))))),`
`,n.default.createElement(s.p,null,"Coming back to our ",n.default.createElement(s.strong,null,"LocationIQ.js")," plugin, our function takes in 3 parameters:"),`
`,n.default.createElement(s.ul,null,`
`,n.default.createElement(s.li,null,"fn: This function is called to get the name of the location from the data to pass to the LocationIQ service"),`
`,n.default.createElement(s.li,null,"fieldsFn: This function is called to pick a subset of attributes from the LocationIQ service. For example, we only care about the ",n.default.createElement(s.strong,null,"lat"),", ",n.default.createElement(s.strong,null,"lon")," and ",n.default.createElement(s.strong,null,"address")," fields from the service"),`
`,n.default.createElement(s.li,null,"mergeFn: This function decides how the data from the LocationIQ service is merged with the original data. In this case, we want the ",n.default.createElement(s.strong,null,"lat"),", ",n.default.createElement(s.strong,null,"lon")," and ",n.default.createElement(s.strong,null,"address")," fields to be merged inside the ",n.default.createElement(s.strong,null,"location")," key from the original data"),`
`),`
`,n.default.createElement(s.p,null,"Let's try running it on our dataset:"),`
`,n.default.createElement(s.p,null,n.default.createElement(s.strong,null,"index.js")),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/Crawler'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'https://redhotchilipeppers.com'"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}/tour/past`"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lodash.merge'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'bluebird'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (fields "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fields"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {};")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fields"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"forEach"),n.default.createElement(s.span,{style:{color:"#839496"}},"(field "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"field"),n.default.createElement(s.span,{style:{color:"#839496"}},"] "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"field"),n.default.createElement(s.span,{style:{color:"#839496"}},"];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (output "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," ({ data, dataToAdd }) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"output"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", { ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"output"),n.default.createElement(s.span,{style:{color:"#839496"}},"]: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/plugins/LocationIQ'"),n.default.createElement(s.span,{style:{color:"#839496"}},")({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fn"),n.default.createElement(s.span,{style:{color:"#839496"}},": data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"name"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  },")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fieldsFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}},"(["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lat'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lon'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'address'"),n.default.createElement(s.span,{style:{color:"#839496"}},"]),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'location'"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"start"),n.default.createElement(s.span,{style:{color:"#839496"}},"()."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mapSeries"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(result "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"JSON"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"stringify"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," ")))),`
`,n.default.createElement(s.p,null,"Which will output a list of items, each having the structure like this:"),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"json","data-theme":"default"},n.default.createElement(s.code,{"data-language":"json","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"{")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"venue"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"The Great Pyramids of Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"location"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"name"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza, Egypt"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"lat"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"30.0170059"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"lon"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"31.2134513"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"address"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"city"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"state"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza Governorate"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"postcode"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"12541"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"country"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Egypt"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"country_code"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"eg"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		}")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"date"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"month"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Mar"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"day"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"15"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"year"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"2019"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	}")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}"))))),`
`,n.default.createElement(s.p,null,"We now want to feed this to another plugin GeoNames, that we'll create now to get the location timezone. Go ahead and create an account at http://www.geonames.org and add your key to the ",n.default.createElement(s.strong,null,".env")," file."),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"sh","data-theme":"default"},n.default.createElement(s.code,{"data-language":"sh","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"LOC_IQ_API_KEY"),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#268BD2"}},"**"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"YOUR_LOCATION_IQ_API_KEY"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"**")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"GEO_NAMES_API_KEY"),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#268BD2"}},"**"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"YOUR_GEO_NAMES_API_KEY"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"**"))))),`
`,n.default.createElement(s.p,null,n.default.createElement(s.strong,null,"src/plugins/GeoNames.js")),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'dotenv'"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"config"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'bluebird'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"rp"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'request-promise'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'http://api.geonames.org/timezoneJSON'"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"geoNamesOptions"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," ({ lat, lon }) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}?lat=${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}&lng=${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}&username=${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"process"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"env"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GEO_NAMES_API_KEY"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"} `"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoNames"),n.default.createElement(s.span,{style:{color:"#839496"}},"({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fn "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fieldsFn "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (data, dataToAdd) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," ({ "),n.default.createElement(s.span,{style:{color:"#859900"}},"..."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}}," }),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cache"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"((resolve, reject) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fn"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"call"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"resolve"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#839496"}},"] "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cache"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"},${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}`"),n.default.createElement(s.span,{style:{color:"#839496"}},"]) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'cache hit for '"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"},${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}`"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"resolve"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeFn"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", dataToAdd: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cache"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"},${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}`"),n.default.createElement(s.span,{style:{color:"#839496"}},"] }));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      }")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"rp"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ uri: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"geoNamesOptions"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#839496"}}," }), json: "),n.default.createElement(s.span,{style:{color:"#B58900"}},"true"),n.default.createElement(s.span,{style:{color:"#839496"}}," })")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(response "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"          "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"locationData"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fieldsFn"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"response"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"          "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cache"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"},${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}`"),n.default.createElement(s.span,{style:{color:"#839496"}},"] "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"locationData"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"          "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"resolve"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeFn"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", dataToAdd: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"locationData"),n.default.createElement(s.span,{style:{color:"#839496"}}," }));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        })")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"catch"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"reject"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"module"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#859900"}},"exports"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoNames"),n.default.createElement(s.span,{style:{color:"#839496"}},";"))))),`
`,n.default.createElement(s.p,null,"We follow the same process as in ",n.default.createElement(s.strong,null,"LocationIQ")," to figure out the timezone from the latitude and longitude."),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.div,{"data-rehype-pretty-code-title":"","data-language":"js","data-theme":"default"},"index.js"),n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/Crawler'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'https://redhotchilipeppers.com'"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}/tour/past`"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lodash.merge'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'bluebird'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (fields "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fields"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {};")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fields"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"forEach"),n.default.createElement(s.span,{style:{color:"#839496"}},"(field "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"field"),n.default.createElement(s.span,{style:{color:"#839496"}},"] "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"field"),n.default.createElement(s.span,{style:{color:"#839496"}},"];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (output "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," ({ data, dataToAdd }) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"output"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", { ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"output"),n.default.createElement(s.span,{style:{color:"#839496"}},"]: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/plugins/LocationIQ'"),n.default.createElement(s.span,{style:{color:"#839496"}},")({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fn"),n.default.createElement(s.span,{style:{color:"#839496"}},": data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"name"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  },")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fieldsFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}},"(["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lat'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lon'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'address'"),n.default.createElement(s.span,{style:{color:"#839496"}},"]),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'location'"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoNames"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/plugins/GeoNames'"),n.default.createElement(s.span,{style:{color:"#839496"}},")({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fn"),n.default.createElement(s.span,{style:{color:"#839496"}},": data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"||"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#839496"}},"];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  },")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fieldsFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}},"(["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'timezoneId'"),n.default.createElement(s.span,{style:{color:"#839496"}},"]),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'location'"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"start"),n.default.createElement(s.span,{style:{color:"#839496"}},"()."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"plugins"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoNames"),n.default.createElement(s.span,{style:{color:"#839496"}},"];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pluginReducer"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"reduce"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"plugins"),n.default.createElement(s.span,{style:{color:"#839496"}},", (obj, func) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"func"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"obj"),n.default.createElement(s.span,{style:{color:"#839496"}},"), "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mapSeries"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pluginReducer"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(result "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"JSON"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"stringify"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});"))))),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"json","data-theme":"default"},n.default.createElement(s.code,{"data-language":"json","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"{")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"venue"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"The Great Pyramids of Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"location"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"name"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza, Egypt"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"lat"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"30.0170059"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"lon"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"31.2134513"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"address"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"city"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"state"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza Governorate"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"postcode"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"12541"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"country"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Egypt"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"country_code"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"eg"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"timezoneId"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Africa/Cairo"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"date"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"month"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Mar"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"day"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"15"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"year"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"2019"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	}")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}"))))),`
`,n.default.createElement(s.p,null,"For the last plugin, ",n.default.createElement(s.strong,null,"GeoJSON")," we want to convert our locations to a valid GeoJSON ",n.default.createElement(s.strong,null,"Point")),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.div,{"data-rehype-pretty-code-title":"","data-language":"js","data-theme":"default"},"src/plugins/GeoJSON.js"),n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"geojson"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'geojson'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoJSON"),n.default.createElement(s.span,{style:{color:"#839496"}},"({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  options "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," ({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Point"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"include"),n.default.createElement(s.span,{style:{color:"#839496"}}," } "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    Point: ["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'location.lat'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'location.lon'"),n.default.createElement(s.span,{style:{color:"#839496"}},"],")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    include: ["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'venue'"),n.default.createElement(s.span,{style:{color:"#839496"}},"]")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  }),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"} "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {}) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"try"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"geojson"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"parse"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", { "),n.default.createElement(s.span,{style:{color:"#859900"}},"..."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"options"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeFn"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", dataToAdd: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    } "),n.default.createElement(s.span,{style:{color:"#859900"}},"catch"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"e"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"e"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"module"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#859900"}},"exports"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoJSON"),n.default.createElement(s.span,{style:{color:"#839496"}},";"))))),`
`,n.default.createElement(s.p,null,n.default.createElement(s.strong,null,"index.js")),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/Crawler'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'https://redhotchilipeppers.com'"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}/tour/past`"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lodash.merge'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'bluebird'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (fields "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fields"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {};")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fields"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"forEach"),n.default.createElement(s.span,{style:{color:"#839496"}},"(field "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"field"),n.default.createElement(s.span,{style:{color:"#839496"}},"] "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"field"),n.default.createElement(s.span,{style:{color:"#839496"}},"];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (output "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," ({ data, dataToAdd }) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"output"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", { ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"output"),n.default.createElement(s.span,{style:{color:"#839496"}},"]: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/plugins/LocationIQ'"),n.default.createElement(s.span,{style:{color:"#839496"}},")({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fn"),n.default.createElement(s.span,{style:{color:"#839496"}},": data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"name"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  },")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fieldsFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}},"(["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lat'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lon'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'address'"),n.default.createElement(s.span,{style:{color:"#839496"}},"]),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'location'"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoNames"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/plugins/GeoNames'"),n.default.createElement(s.span,{style:{color:"#839496"}},")({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fn"),n.default.createElement(s.span,{style:{color:"#839496"}},": data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"||"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#839496"}},"];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  },")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fieldsFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}},"(["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'timezoneId'"),n.default.createElement(s.span,{style:{color:"#839496"}},"]),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'location'"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoJSON"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/plugins/GeoJSON'"),n.default.createElement(s.span,{style:{color:"#839496"}},")({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'geojson'"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"start"),n.default.createElement(s.span,{style:{color:"#839496"}},"()."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"plugins"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoNames"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoJSON"),n.default.createElement(s.span,{style:{color:"#839496"}},"];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pluginReducer"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"reduce"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"plugins"),n.default.createElement(s.span,{style:{color:"#839496"}},", (obj, func) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"func"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"obj"),n.default.createElement(s.span,{style:{color:"#839496"}},"), "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mapSeries"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pluginReducer"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(result "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"JSON"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"stringify"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});"))))),`
`,n.default.createElement(s.p,null,"Which will output a list of this form:"),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"json","data-theme":"default"},n.default.createElement(s.code,{"data-language":"json","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"{")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"venue"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"The Great Pyramids of Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"location"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"name"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza, Egypt"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"lat"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"30.0170059"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"lon"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"31.2134513"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"address"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"city"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"state"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza Governorate"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"postcode"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"12541"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"country"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Egypt"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"country_code"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"eg"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"timezoneId"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Africa/Cairo"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"date"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"month"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Mar"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"day"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"15"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"year"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"2019"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	"),n.default.createElement(s.span,{style:{color:"#859900"}},'"geojson"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"type"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Feature"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"geometry"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"type"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Point"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"coordinates"'),n.default.createElement(s.span,{style:{color:"#839496"}},": ["),n.default.createElement(s.span,{style:{color:"#D33682"}},"31.2134513"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#D33682"}},"30.0170059"),n.default.createElement(s.span,{style:{color:"#839496"}},"]")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		},")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		"),n.default.createElement(s.span,{style:{color:"#859900"}},'"properties"'),n.default.createElement(s.span,{style:{color:"#839496"}},": {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"			"),n.default.createElement(s.span,{style:{color:"#859900"}},'"venue"'),n.default.createElement(s.span,{style:{color:"#839496"}},": "),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"The Great Pyramids of Giza"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"		}")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"	}")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}"))))),`
`,n.default.createElement(s.p,null,"Nice! We've successfully transformed our data from the original"),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"json","data-theme":"default"},n.default.createElement(s.code,{"data-language":"json","data-theme":"default"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"{  ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   "),n.default.createElement(s.span,{style:{color:"#859900"}},'"venue"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"The Great Pyramids of Giza"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   "),n.default.createElement(s.span,{style:{color:"#859900"}},'"location"'),n.default.createElement(s.span,{style:{color:"#839496"}},":{  ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},'"name"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Giza, Egypt"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   },")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   "),n.default.createElement(s.span,{style:{color:"#859900"}},'"date"'),n.default.createElement(s.span,{style:{color:"#839496"}},":{  ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},'"month"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"Mar"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},'"day"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"15"'),n.default.createElement(s.span,{style:{color:"#839496"}},",")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},'"year"'),n.default.createElement(s.span,{style:{color:"#839496"}},":"),n.default.createElement(s.span,{style:{color:"#2AA198"}},'"2019"')),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"   }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}"))))),`
`,n.default.createElement(s.p,null,"Now, this is a design choice, but I'd like the plugins to go into the actual crawler as middleware rather than transform the data after recieving it from the crawler. This is just a choice and you can decide to leave it as is."),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cheerio"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'cheerio'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"SimpleCrawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'simplecrawler'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"range"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lodash.range'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"PageScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./PageScrapper'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"PageScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ parser: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cheerio"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'bluebird'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ baseUrl "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},", startUrl "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," }) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"||"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"throw"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Error"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'baseUrl and startUrl paramerters need to be defined'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"SimpleCrawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"plugins"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," []; ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"}")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},".prototype."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"use"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"(plugin) {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"plugins"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"push"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"plugin"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},".prototype."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"start"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"() {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"((resolve, reject) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"maxDepth"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#D33682"}},"2"),n.default.createElement(s.span,{style:{color:"#839496"}},"; ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"interval"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#D33682"}},"10000"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"maxConcurrency"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#D33682"}},"3"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"results"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," [];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"on"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'fetchcomplete'"),n.default.createElement(s.span,{style:{color:"#839496"}},", (queueItem, responseBuffer) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'fetch complete for '"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"queueItem"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"url"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrapedResult"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pScrapper"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrape"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"responseBuffer"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"toString"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'utf8'"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"results"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"push"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"scrapedResult"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    });")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"on"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'complete'"),n.default.createElement(s.span,{style:{color:"#839496"}},", (queueItem, resources) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {      ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"var"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merged"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," []."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"concat"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"apply"),n.default.createElement(s.span,{style:{color:"#839496"}},"([], "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"results"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'Results Size'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merged"),n.default.createElement(s.span,{style:{color:"#839496"}},".length);")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pluginReducer"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"reduce"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"plugins"),n.default.createElement(s.span,{style:{color:"#839496"}},", (obj, func) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"func"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"obj"),n.default.createElement(s.span,{style:{color:"#839496"}},"), "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      ")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mapSeries"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merged"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"pluginReducer"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"resolve"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(() "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"          "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'Discovery Complete for: '"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"+"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    });")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"discoverResources"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," buffer "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"cheerio"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"load"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"buffer"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"toString"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'utf8'"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"hrefs"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'.pagination-numbers a[href]'"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"filter"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"function"),n.default.createElement(s.span,{style:{color:"#839496"}},"() {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"$"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"hasClass"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'active'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      });")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"numMatch"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#DC322F"}}," /("),n.default.createElement(s.span,{style:{color:"#CB4B16"}},"\\d"),n.default.createElement(s.span,{style:{color:"#859900"}},"+"),n.default.createElement(s.span,{style:{color:"#DC322F"}},")/"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"firstHref"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"hrefs"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"first"),n.default.createElement(s.span,{style:{color:"#839496"}},"()."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"text"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lastHref"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"hrefs"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"last"),n.default.createElement(s.span,{style:{color:"#839496"}},"()."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"text"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"try"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startPagination"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"parseInt"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"numMatch"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"exec"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"firstHref"),n.default.createElement(s.span,{style:{color:"#839496"}},")["),n.default.createElement(s.span,{style:{color:"#D33682"}},"0"),n.default.createElement(s.span,{style:{color:"#839496"}},"]);")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lastPagination"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"parseInt"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"numMatch"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"exec"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lastHref"),n.default.createElement(s.span,{style:{color:"#839496"}},")["),n.default.createElement(s.span,{style:{color:"#D33682"}},"0"),n.default.createElement(s.span,{style:{color:"#839496"}},"]);")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"urls"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"range"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startPagination"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lastPagination"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"+"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#D33682"}},"1"),n.default.createElement(s.span,{style:{color:"#839496"}},")."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"map"),n.default.createElement(s.span,{style:{color:"#839496"}},"(")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"          num "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}/tour/past/page/${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"num"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}`")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        );")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"urls"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      } "),n.default.createElement(s.span,{style:{color:"#859900"}},"catch"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"e"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"e"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," [];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"this"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"start"),n.default.createElement(s.span,{style:{color:"#839496"}},"();")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#859900"}},"module"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#859900"}},"exports"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},";"))))),`
`,n.default.createElement(s.p,null,"We'll use the ",n.default.createElement(s.strong,null,"Crawler.use")," function to add our plugins and use the same logic as we did previously in ",n.default.createElement(s.strong,null,"index.js")," to run the middleware inside the crawler."),`
`,n.default.createElement(s.p,null,"Now our ",n.default.createElement(s.strong,null,"index.js")," file is simplified to:"),`
`,n.default.createElement(s.div,{"data-rehype-pretty-code-fragment":""},n.default.createElement(s.pre,{style:{backgroundColor:"#002B36"},tabIndex:"0","data-language":"js","data-theme":"default"},n.default.createElement(s.code,{"data-line-numbers":"","data-language":"js","data-theme":"default","data-line-numbers-max-digits":"2"},n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/Crawler'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'https://redhotchilipeppers.com'"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"`${"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#2AA198"}},"}/tour/past`"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"new"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"({ "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"baseUrl"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"startUrl"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lodash.merge'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"Promise"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'bluebird'"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (fields "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fields"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," {};")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fields"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"forEach"),n.default.createElement(s.span,{style:{color:"#839496"}},"(field "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"        "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"field"),n.default.createElement(s.span,{style:{color:"#839496"}},"] "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"field"),n.default.createElement(s.span,{style:{color:"#839496"}},"];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"result"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," (output "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," ({ data, dataToAdd }) "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"output"),n.default.createElement(s.span,{style:{color:"#839496"}},") {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"      "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", { ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"output"),n.default.createElement(s.span,{style:{color:"#839496"}},"]: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}}," });")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    }")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"merge"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"dataToAdd"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  };")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"};")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/plugins/LocationIQ'"),n.default.createElement(s.span,{style:{color:"#839496"}},")({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fn"),n.default.createElement(s.span,{style:{color:"#839496"}},": data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"name"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  },")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fieldsFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}},"(["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lat'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'lon'"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'address'"),n.default.createElement(s.span,{style:{color:"#839496"}},"]),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'location'"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoNames"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/plugins/GeoNames'"),n.default.createElement(s.span,{style:{color:"#839496"}},")({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"fn"),n.default.createElement(s.span,{style:{color:"#839496"}},": data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"if"),n.default.createElement(s.span,{style:{color:"#839496"}}," ("),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"||"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"!"),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#839496"}},") "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#B58900"}},"null"),n.default.createElement(s.span,{style:{color:"#839496"}},";")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"    "),n.default.createElement(s.span,{style:{color:"#859900"}},"return"),n.default.createElement(s.span,{style:{color:"#839496"}}," ["),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lat"),n.default.createElement(s.span,{style:{color:"#839496"}},", "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"location"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"lon"),n.default.createElement(s.span,{style:{color:"#839496"}},"];")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  },")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  fieldsFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"getFields"),n.default.createElement(s.span,{style:{color:"#839496"}},"(["),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'timezoneId'"),n.default.createElement(s.span,{style:{color:"#839496"}},"]),")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'location'"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"const"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoJSON"),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#859900"}},"="),n.default.createElement(s.span,{style:{color:"#839496"}}," "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"require"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'./src/plugins/GeoJSON'"),n.default.createElement(s.span,{style:{color:"#839496"}},")({")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  mergeFn: "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"mergeOutput"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#2AA198"}},"'geojson'"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"use"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"LocationIQ"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"use"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoNames"),n.default.createElement(s.span,{style:{color:"#839496"}},")")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  ."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"use"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"GeoJSON"),n.default.createElement(s.span,{style:{color:"#839496"}},");")),`
`,n.default.createElement(s.span,{className:"line"}," "),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#268BD2"}},"crawler"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"start"),n.default.createElement(s.span,{style:{color:"#839496"}},"()."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"then"),n.default.createElement(s.span,{style:{color:"#839496"}},"(data "),n.default.createElement(s.span,{style:{color:"#93A1A1",fontWeight:"bold"}},"=>"),n.default.createElement(s.span,{style:{color:"#839496"}}," {")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"  "),n.default.createElement(s.span,{style:{color:"#268BD2"}},"console"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"log"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"JSON"),n.default.createElement(s.span,{style:{color:"#839496"}},"."),n.default.createElement(s.span,{style:{color:"#268BD2"}},"stringify"),n.default.createElement(s.span,{style:{color:"#839496"}},"("),n.default.createElement(s.span,{style:{color:"#268BD2"}},"data"),n.default.createElement(s.span,{style:{color:"#839496"}},"));")),`
`,n.default.createElement(s.span,{className:"line"},n.default.createElement(s.span,{style:{color:"#839496"}},"});"))))),`
`,n.default.createElement(s.p,null,"Congratulations! You've built a fairly involved crawler and scrapper including a plugin system that feeds into the crawler middleware - both of which you created! Next time, we'll add tests to this crawler to be confident of our code."));return e?n.default.createElement(e,{...l},a):a}var f=B;var S=typeof o<"u"&&o.headers,D=typeof o<"u"&&o.meta;export{f as default,D as meta};
/*![Middleware](./concert-tour-scrapper-with-cheerio-simplecrawler/Middleware.png)*/
